# =============================================================================
# CONFIGURACIÓN DE ENTORNO - Feature Models
# =============================================================================
# Este archivo contiene todas las variables de entorno necesarias
# Copia este archivo como .env y ajusta los valores según tu entorno
# Comando: cp .env.example .env

# =============================================================================
# GENERAL
# =============================================================================
# Domain
# This would be set to the production domain with an env var on deployment
# used by Traefik to transmit traffic and aqcuire TLS certificates
DOMAIN=localhost
# To test the local Traefik config
# DOMAIN=localhost.tiangolo.com

# Used by the backend to generate links in emails to the frontend
FRONTEND_HOST=http://localhost:3000
# In staging and production, set this env var to the frontend host, e.g.
# FRONTEND_HOST=https://dashboard.example.com

# Environment: local, development, staging, production
ENVIRONMENT=local

PROJECT_NAME="Feature Models Platform"
STACK_NAME=feature-models-platform

# =============================================================================
# SEGURIDAD
# =============================================================================
# Backend
BACKEND_CORS_ORIGINS="http://localhost,http://localhost:3000,https://localhost,https://localhost:3000,http://localhost.tiangolo.com"
SECRET_KEY=M@d3l_T3s1s_J@se
# IMPORTANTE: Cambia esto en producción con: openssl rand -hex 32

# Super usuario inicial (creado automáticamente)
FIRST_SUPERUSER=admin@example.com
FIRST_SUPERUSER_PASSWORD=admin123
# IMPORTANTE: Cambia estas credenciales en producción

# =============================================================================
# EMAIL / SMTP
# =============================================================================
# Emails
SMTP_HOST=
SMTP_USER=
SMTP_PASSWORD=
EMAILS_FROM_EMAIL=info@example.com
SMTP_TLS=True
SMTP_SSL=False
SMTP_PORT=587

# =============================================================================
# BASE DE DATOS - PostgreSQL
# =============================================================================
# Postgres
POSTGRES_SERVER=db
POSTGRES_PORT=5432
POSTGRES_DB=app
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
# IMPORTANTE: Cambia la contraseña en producción

# =============================================================================
# REDIS (Cache y Celery)
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# CELERY (Tareas asíncronas)
# =============================================================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# =============================================================================
# MinIO (S3-compatible storage)
# =============================================================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=feature-models
MINIO_USE_SSL=false
# IMPORTANTE: Cambia las credenciales en producción

# =============================================================================
# STORAGE BACKEND
# =============================================================================
# Opciones: local, s3, minio
STORAGE_BACKEND=minio

# Para S3 real (AWS) - descomentar si usas AWS S3
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=

# =============================================================================
# SENTRY (Monitoreo de errores - opcional)
# =============================================================================
SENTRY_DSN=

# =============================================================================
# DOCKER
# =============================================================================
# Configure these with your own Docker registry images
DOCKER_IMAGE_BACKEND=backend
DOCKER_IMAGE_FRONTEND=frontend

# =============================================================================
# API
# =============================================================================
# Prefijo de la API
API_V1_STR=/api/v1

# Tiempo de expiración del token de acceso (minutos)
ACCESS_TOKEN_EXPIRE_MINUTES=60

# =============================================================================
# DESARROLLO
# =============================================================================
# Habilitar modo debug (solo desarrollo)
DEBUG=True

# Número de workers de Gunicorn (producción)
WORKERS_PER_CORE=1
MAX_WORKERS=4
WEB_CONCURRENCY=4

# =============================================================================
# NOTAS IMPORTANTES
# =============================================================================
# 1. NUNCA subas el archivo .env a Git (está en .gitignore)
# 2. En producción, usa valores seguros y únicos
# 3. Genera SECRET_KEY con: openssl rand -hex 32
# 4. Cambia todas las contraseñas por defecto
# 5. Para MinIO en producción, usa credenciales fuertes
# 6. El seeding automático solo se ejecuta si ENVIRONMENT=local o development
# 7. Frontend en desarrollo: http://localhost:3000
# 8. Backend API docs: http://localhost:8000/docs

